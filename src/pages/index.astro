---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Estudio Arquitectónico Minimal">
	
	<!-- Header minimalista oscuro -->
	<header 
		role="banner"
		class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-80 backdrop-blur-md border-b border-white border-opacity-10">
		<div class="max-w-7xl mx-auto px-5 py-5 flex justify-between items-center">
			<h1 class="text-xl md:text-2xl font-light tracking-wider text-white">
				MINIMAL <span class="font-bold">STUDIO</span>
			</h1>
			<nav role="navigation" aria-label="Navegación principal" class="hidden md:flex gap-10 text-sm font-light tracking-wide">
				<a href="/" aria-label="Ir a inicio" class="nav-link text-white hover:text-blue-400 transition-colors duration-300">INICIO</a>
				<a href="#nosotros" aria-label="Ir a sección Nosotros" class="nav-link text-white hover:text-blue-400 transition-colors duration-300">NOSOTROS</a>
				<a href="#servicios" aria-label="Ir a sección Servicios" class="nav-link text-white hover:text-blue-400 transition-colors duration-300">SERVICIOS</a>
				<a href="#proyectos" aria-label="Ir a sección Proyectos" class="nav-link text-white hover:text-blue-400 transition-colors duration-300">PROYECTOS</a>
				<a href="#contacto" aria-label="Ir a sección Contacto" class="nav-link text-white hover:text-blue-400 transition-colors duration-300">CONTACTO</a>
			</nav>
			<button 
				id="menu-toggle" 
				aria-label="Abrir menú de navegación"
				aria-expanded="false"
				aria-controls="mobile-menu"
				class="md:hidden text-white">
				<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
				</svg>
			</button>
		</div>
	</header>

	<!-- Mobile Menu -->
	<div 
		id="mobile-menu" 
		role="navigation"
		aria-label="Menú móvil"
		aria-hidden="true"
		class="fixed top-[72px] left-0 right-0 bg-black border-b border-zinc-800 hidden md:hidden z-40 transform transition-transform duration-300">
		<nav class="flex flex-col text-center py-6 gap-6 text-sm tracking-widest font-light">
			<a href="/" class="mobile-nav-link text-white hover:text-blue-400 transition">INICIO</a>
			<a href="#nosotros" class="mobile-nav-link text-white hover:text-blue-400 transition">NOSOTROS</a>
			<a href="#servicios" class="mobile-nav-link text-white hover:text-blue-400 transition">SERVICIOS</a>
			<a href="#proyectos" class="mobile-nav-link text-white hover:text-blue-400 transition">PROYECTOS</a>
			<a href="#contacto" class="mobile-nav-link text-white hover:text-blue-400 transition">CONTACTO</a>
		</nav>
	</div>

	<!-- Hero Section con Video Background -->
	<section class="relative h-screen w-full overflow-hidden bg-black">
		<!-- Video de fondo -->
		<div class="absolute inset-0 w-full h-full">
			<video 
				autoplay 
				muted 
				loop 
				playsinline
				preload="metadata"
				poster="/galleria/galleriaExterior.webp"
				class="w-full h-full object-cover opacity-40">
				<source src="/video/video-fondo.mp4" type="video/mp4">
				Tu navegador no soporta el elemento de video.
			</video>
			<!-- Overlay degradado -->
			<div class="absolute inset-0 bg-gradient-to-b from-black via-black/50 to-black"></div>
		</div>

		<!-- Contenido Hero -->
		<div class="relative h-full flex items-center justify-center px-5">
			<div class="text-center max-w-5xl mx-auto">
				<div class="mb-6 overflow-hidden">
					<h2 class="text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-light text-white tracking-tight leading-none animate-fadeInUp">
						ARQUITECTURA
					</h2>
				</div>
				<div class="mb-8 overflow-hidden" style="animation-delay: 0.2s;">
					<h3 class="text-2xl md:text-4xl lg:text-5xl font-light text-white tracking-widest animate-fadeInUp opacity-70">
						CONTEMPORÁNEA
					</h3>
				</div>
				<div class="overflow-hidden" style="animation-delay: 0.4s;">
					<p class="text-lg md:text-xl text-gray-300 mb-12 max-w-3xl mx-auto font-light leading-relaxed animate-fadeInUp">
						Diseñamos espacios que trascienden. Cada proyecto es una exploración única de forma, función y experiencia.
					</p>
				</div>
				<div class="animate-fadeInUp" style="animation-delay: 0.6s;">
					<a href="#proyectos" class="inline-block border border-white text-white px-10 py-4 hover:bg-white hover:text-black transition-all duration-300 text-sm tracking-widest font-light">
						EXPLORAR PROYECTOS
					</a>
				</div>
			</div>
		</div>

		<!-- Indicador scroll -->
		<div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce" aria-hidden="true">
			<svg class="w-6 h-6 text-white opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
			</svg>
		</div>
	</section>

	<!-- Nosotros -->
	<section id="nosotros" class="bg-black py-32 px-5 border-t border-zinc-900">
		<div class="max-w-7xl mx-auto">
			
			<!-- Título -->
			<div class="mb-24 reveal-left">
				<p class="text-blue-400 text-sm tracking-widest mb-4 font-light">NOSOTROS</p>
				<h3 class="text-5xl md:text-7xl font-light text-white leading-tight">
					Pasión por la<br/>
					<span class="italic font-serif">arquitectura</span>
				</h3>
			</div>

			<!-- Contenido -->
			<div class="grid md:grid-cols-2 gap-20 items-center">
				
				<!-- Imagen -->
				<div class="relative group overflow-hidden h-[500px] bg-zinc-900 reveal-left">
					<img 
						src="/nosotros/arquitectoDos.webp"
						srcset="/nosotros/arquitectoDos.webp 1920w"
						sizes="(max-width: 768px) 100vw, 50vw"
						alt="Equipo de arquitectos profesionales de Minimal Studio"
						class="w-full h-full object-cover object-top group-hover:scale-105 transition-all duration-1000 animate-pulse bg-zinc-800"
						loading="lazy"
						onload="this.classList.remove('animate-pulse', 'bg-zinc-800')">
					
					<div class="absolute inset-0 bg-gradient-to-t from-black via-black/30 to-transparent"></div>

					<!-- Texto superpuesto -->
					<div class="absolute bottom-10 left-10">
						<p class="text-white text-2xl font-light">Minimal Studio</p>
						<p class="text-gray-400 text-sm tracking-widest">DESDE 2010</p>
					</div>
				</div>

				<!-- Texto -->
				<div class="reveal-right">
					<h4 class="text-3xl md:text-4xl font-light text-white mb-8 tracking-tight">
						Transformamos ideas en espacios memorables
					</h4>

					<p class="text-gray-400 text-lg leading-relaxed mb-8 font-light">
						Somos un estudio de arquitectura especializado en diseño contemporáneo.
						Creemos en la simplicidad como forma de sofisticación. Cada proyecto es
						una oportunidad para reinterpretar el espacio y crear experiencias
						que conecten con las personas.
					</p>

					<p class="text-gray-500 leading-relaxed font-light mb-10">
						Trabajamos desde una mirada estratégica, combinando funcionalidad,
						estética y sustentabilidad. Nuestro equipo multidisciplinario acompaña
						cada etapa del proceso, desde la conceptualización hasta la ejecución final.
					</p>

					<!-- Firma -->
					<div class="flex items-center gap-6">
						<div class="w-16 h-16 rounded-full overflow-hidden bg-zinc-800">
							<img 
								src="/nosotros/arquitecto.webp" 
								alt="Arq. Juan Martínez - Director Creativo" 
								class="w-full h-full object-cover" 
								loading="lazy">
						</div>
						<div>
							<p class="text-white font-light">Arq. Juan Martínez</p>
							<p class="text-gray-500 text-sm tracking-wider">DIRECTOR CREATIVO</p>
						</div>
					</div>
				</div>

			</div>
		</div>
	</section>

	<!-- Filosofía / Intro -->
	<section class="bg-zinc-950 py-32 px-5">
		<div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-20 items-center">
			<div class="reveal-left">
				<p class="text-blue-400 text-sm tracking-widest mb-6 font-light">FILOSOFÍA</p>
				<h3 class="text-4xl md:text-6xl font-light text-white mb-8 leading-tight">
					Diseño que<br/>
					<span class="italic font-serif">inspira</span>
				</h3>
				<p class="text-gray-400 text-lg leading-relaxed font-light">
					Creemos en la arquitectura como una forma de arte que mejora la vida de las personas. Cada proyecto es una narrativa única, donde la luz, el espacio y la materialidad convergen para crear experiencias memorables.
				</p>
			</div>
			<div class="relative h-96 bg-zinc-900 overflow-hidden group reveal-right">
				<img 
					src="/filosofia/filosofia.webp" 
					alt="Arquitectura moderna y contemporánea"
					class="w-full h-full object-cover hover:grayscale-0 transition-all duration-700 group-hover:scale-105"
					loading="lazy">
				<div class="absolute inset-0 bg-gradient-to-t from-zinc-950 via-transparent to-transparent opacity-60"></div>
			</div>
		</div>
	</section>

	<!-- Servicios con Grid de Puntos Decorativo -->
	<section id="servicios" class="relative bg-black py-32 px-5 border-t border-zinc-800 overflow-hidden">
		<!-- Grid de puntos decorativo -->
		<div class="absolute inset-0">
			<!-- Patrón de puntos principal -->
			<div class="absolute inset-0 opacity-20" style="background-image: radial-gradient(circle, #3b82f6 0.5px, transparent 0.5px); background-size: 40px 40px;"></div>
			
			<!-- Patrón de puntos secundario (más pequeño, intercalado) -->
			<div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(circle, #ffffff 0.5px, transparent 0.5px); background-size: 20px 20px; background-position: 10px 10px;"></div>
			
			<!-- Gradiente overlay para fade out en los bordes -->
			<div class="absolute inset-0 bg-gradient-to-b from-black via-transparent to-black"></div>
			<div class="absolute inset-0 bg-gradient-to-r from-black via-transparent to-black"></div>
			
			<!-- Efectos de luz sobre el grid -->
			<div class="absolute top-1/4 left-1/4 w-96 h-96 bg-blue-500 rounded-full blur-3xl opacity-10"></div>
			<div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500 rounded-full blur-3xl opacity-10"></div>
		</div>

		<div class="max-w-7xl mx-auto relative z-10">
			<div class="mb-20 reveal-left">
				<p class="text-blue-400 text-sm tracking-widest mb-4 font-light">SERVICIOS</p>
				<h3 class="text-5xl md:text-7xl font-light text-white">Áreas de Especialización</h3>
			</div>
			
			<div class="grid grid-cols-1 md:grid-cols-3 gap-1 bg-zinc-900">
				<!-- Servicio 1 -->
				<div class="group relative bg-zinc-950 p-12 hover:bg-zinc-900 transition-all duration-500 border-r border-zinc-800 last:border-r-0 overflow-hidden reveal-up">
					<!-- Grid de puntos interactivo dentro de la tarjeta -->
					<div class="absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-500">
						<div class="absolute inset-0" style="background-image: radial-gradient(circle, #3b82f6 1px, transparent 1px); background-size: 30px 30px;"></div>
					</div>
					
					<!-- Líneas diagonales decorativas -->
					<div class="absolute -top-20 -right-20 w-40 h-40 border border-blue-500 opacity-0 group-hover:opacity-20 rotate-45 transition-all duration-500"></div>
					
					<div class="relative z-10">
						<div class="text-6xl font-light text-zinc-800 mb-8 group-hover:text-blue-500 transition-colors duration-500">01</div>
						<h4 class="text-2xl font-light text-white mb-6 tracking-wide">RESIDENCIAL</h4>
						<p class="text-gray-400 leading-relaxed font-light mb-8">
							Viviendas únicas que reflejan el estilo de vida contemporáneo. Diseño personalizado desde la conceptualización hasta la ejecución.
						</p>
						<div class="w-12 h-0.5 bg-blue-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
					</div>
				</div>

				<!-- Servicio 2 -->
				<div class="group relative bg-zinc-950 p-12 hover:bg-zinc-900 transition-all duration-500 border-r border-zinc-800 last:border-r-0 overflow-hidden reveal-up" style="animation-delay: 0.1s;">
					<!-- Grid de puntos interactivo dentro de la tarjeta -->
					<div class="absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-500">
						<div class="absolute inset-0" style="background-image: radial-gradient(circle, #a855f7 1px, transparent 1px); background-size: 30px 30px;"></div>
					</div>
					
					<!-- Líneas diagonales decorativas -->
					<div class="absolute -top-20 -right-20 w-40 h-40 border border-purple-500 opacity-0 group-hover:opacity-20 rotate-45 transition-all duration-500"></div>
					
					<div class="relative z-10">
						<div class="text-6xl font-light text-zinc-800 mb-8 group-hover:text-purple-500 transition-colors duration-500">02</div>
						<h4 class="text-2xl font-light text-white mb-6 tracking-wide">COMERCIAL</h4>
						<p class="text-gray-400 leading-relaxed font-light mb-8">
							Espacios comerciales que potencian la identidad de marca. Funcionalidad y estética al servicio del negocio.
						</p>
						<div class="w-12 h-0.5 bg-purple-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
					</div>
				</div>

				<!-- Servicio 3 -->
				<div class="group relative bg-zinc-950 p-12 hover:bg-zinc-900 transition-all duration-500 overflow-hidden reveal-up" style="animation-delay: 0.2s;">
					<!-- Grid de puntos interactivo dentro de la tarjeta -->
					<div class="absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-500">
						<div class="absolute inset-0" style="background-image: radial-gradient(circle, #06b6d4 1px, transparent 1px); background-size: 30px 30px;"></div>
					</div>
					
					<!-- Líneas diagonales decorativas -->
					<div class="absolute -top-20 -right-20 w-40 h-40 border border-cyan-500 opacity-0 group-hover:opacity-20 rotate-45 transition-all duration-500"></div>
					
					<div class="relative z-10">
						<div class="text-6xl font-light text-zinc-800 mb-8 group-hover:text-cyan-500 transition-colors duration-500">03</div>
						<h4 class="text-2xl font-light text-white mb-6 tracking-wide">INTERIORISMO</h4>
						<p class="text-gray-400 leading-relaxed font-light mb-8">
							Diseño interior integral que complementa la arquitectura. Espacios coherentes y sofisticados en cada detalle.
						</p>
						<div class="w-12 h-0.5 bg-cyan-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Portfolio - Diseño editorial -->
	<section id="proyectos" class="bg-zinc-950 py-32 px-5">
		<div class="max-w-7xl mx-auto">
			<div class="mb-20 reveal-left">
				<p class="text-blue-400 text-sm tracking-widest mb-4 font-light">PORTFOLIO</p>
				<h3 class="text-5xl md:text-7xl font-light text-white mb-6">Proyectos Destacados</h3>
				<p class="text-gray-400 text-lg max-w-2xl font-light">Una selección de nuestros trabajos más representativos</p>
			</div>

			<!-- Proyecto 1 -->
			<div class="mb-1 group relative overflow-hidden bg-black h-[70vh] reveal-up" data-project="casa-valle">
				<img 
					src="/proyectos/proyectoUno.webp" 
					alt="Casa Minimalista Valle - Proyecto residencial contemporáneo"
					class="w-full h-full object-cover group-hover:scale-105 transition-all duration-1000"
					loading="lazy">
				<div class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"></div>
				
				<div class="absolute bottom-0 left-0 right-0 p-12 md:p-16">
					<div class="max-w-3xl">
						<p class="text-blue-400 text-sm tracking-widest mb-3 font-light">RESIDENCIAL · 2024</p>
						<h4 class="text-4xl md:text-6xl font-light text-white mb-4 tracking-tight">Casa Valle Minimalista</h4>
						<p class="text-gray-300 text-lg mb-6 font-light">Residencia contemporánea integrada al paisaje natural. 450m² de arquitectura pura y funcional.</p>
						<button 
							onclick="ModalManager.open('proyecto1')"
							class="text-white border border-white px-8 py-3 text-sm tracking-wider hover:bg-white hover:text-black transition-all duration-300 font-light"
							aria-label="Ver detalles del proyecto Casa Valle Minimalista">
							VER PROYECTO
						</button>
					</div>
				</div>
			</div>

			<!-- Proyectos 2 y 3 - Grid -->
			<div class="grid md:grid-cols-2 gap-1">
				<!-- Proyecto 2 -->
				<div class="group relative overflow-hidden bg-black h-[60vh] reveal-up" data-project="torre-corporativa" style="animation-delay: 0.1s;">
					<img 
						src="/proyectos/proyectoDos.webp"
						alt="Torre Corporativa - Oficinas modernas"
						class="w-full h-full object-cover group-hover:scale-105 transition-all duration-1000"
						loading="lazy">
					<div class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"></div>
					
					<div class="absolute bottom-0 left-0 right-0 p-10">
						<p class="text-blue-400 text-sm tracking-widest mb-2 font-light">COMERCIAL · 2024</p>
						<h4 class="text-3xl md:text-4xl font-light text-white mb-3 tracking-tight">Torre Corporativa</h4>
						<p class="text-gray-300 mb-4 font-light">Espacio de trabajo que redefine la productividad moderna.</p>
						<button 
							onclick="ModalManager.open('proyecto2')"
							class="text-white text-sm tracking-wider hover:text-blue-400 transition-colors font-light"
							aria-label="Ver detalles del proyecto Torre Corporativa">
							VER PROYECTO →
						</button>
					</div>
				</div>

				<!-- Proyecto 3 -->
				<div class="group relative overflow-hidden bg-black h-[60vh] reveal-up" data-project="restaurante-fusion" style="animation-delay: 0.2s;">
					<img 
						src="/proyectos/proyectoTres.webp"
						alt="Restaurante Fusion - Diseño gastronómico contemporáneo"
						class="w-full h-full object-cover group-hover:scale-105 transition-all duration-1000"
						loading="lazy">
					<div class="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent"></div>
					
					<div class="absolute bottom-0 left-0 right-0 p-10">
						<p class="text-blue-400 text-sm tracking-widest mb-2 font-light">GASTRONÓMICO · 2023</p>
						<h4 class="text-3xl md:text-4xl font-light text-white mb-3 tracking-tight">Restaurante Fusion</h4>
						<p class="text-gray-300 mb-4 font-light">Diseño que celebra la experiencia culinaria contemporánea.</p>
						<button 
							onclick="ModalManager.open('proyecto3')"
							class="text-white text-sm tracking-wider hover:text-blue-400 transition-colors font-light"
							aria-label="Ver detalles del proyecto Restaurante Fusion">
							VER PROYECTO →
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal Container -->
		<div 
			id="projectModal" 
			role="dialog"
			aria-modal="true"
			aria-labelledby="modalTitle"
			class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4 md:p-8">
			<!-- Modal Box -->
			<div class="bg-zinc-900 border border-zinc-800 max-w-6xl w-full max-h-[90vh] overflow-y-auto relative rounded-sm">
				<!-- Botón Cerrar -->
				<button 
					onclick="ModalManager.close()"
					aria-label="Cerrar modal"
					class="sticky top-4 float-right mr-4 mt-4 text-white hover:text-blue-400 transition-colors z-10 bg-zinc-950 p-2 rounded-sm">
					<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
					</svg>
				</button>

				<!-- Contenido del Modal -->
				<div class="p-8 md:p-12">
					<div id="modalContent"></div>
				</div>
			</div>
		</div>
	</section>

	<!-- Números / Logros -->
	<section id="stats-section" class="bg-black py-24 px-5 border-y border-zinc-800">
		<div class="max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-12">
			<div class="text-center reveal-up">
				<div class="text-5xl md:text-7xl font-light text-white mb-3">
					<span class="counter" data-target="150">0</span>+
				</div>
				<div class="text-gray-500 text-sm tracking-wider font-light">PROYECTOS</div>
			</div>
			<div class="text-center reveal-up" style="animation-delay: 0.1s;">
				<div class="text-5xl md:text-7xl font-light text-white mb-3">
					<span class="counter" data-target="15">0</span>
				</div>
				<div class="text-gray-500 text-sm tracking-wider font-light">AÑOS</div>
			</div>
			<div class="text-center reveal-up" style="animation-delay: 0.2s;">
				<div class="text-5xl md:text-7xl font-light text-white mb-3">
					<span class="counter" data-target="25">0</span>+
				</div>
				<div class="text-gray-500 text-sm tracking-wider font-light">PREMIOS</div>
			</div>
			<div class="text-center reveal-up" style="animation-delay: 0.3s;">
				<div class="text-5xl md:text-7xl font-light text-white mb-3">
					<span class="counter" data-target="98">0</span>%
				</div>
				<div class="text-gray-500 text-sm tracking-wider font-light">SATISFACCIÓN</div>
			</div>
		</div>
	</section>

	<!-- Galleria de imagenes -->
	<section class="w-full mt-24" aria-label="Galería de proyectos">
		<!-- Imagen principal 100% -->
		<div class="w-full h-[600px] overflow-hidden reveal-up">
			<img 
			src="/galleria/galleriaInterior.webp"
			alt="Proyecto arquitectónico de interiores minimalistas"
			class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
			loading="lazy"
			/>
		</div>

		<!-- Dos imágenes 50% -->
		<div class="w-full grid grid-cols-1 md:grid-cols-2">
			
			<div class="h-[500px] overflow-hidden reveal-left">
			<img 
				src="/galleria/galleriaExterior.webp"
				alt="Arquitectura exterior contemporánea"
				class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
				loading="lazy"
			/>
			</div>

			<div class="h-[500px] overflow-hidden reveal-right">
			<img 
				src="/galleria/galleriaInteriorDos.webp"
				alt="Diseño de interiores modernos"
				class="w-full h-full object-cover hover:scale-105 transition-transform duration-700"
				loading="lazy"
			/>
			</div>

		</div>

	</section>

	<!-- Contacto minimalista -->
	<section id="contacto" class="bg-zinc-950 py-32 px-5">
		<div class="max-w-5xl mx-auto">
			<div class="grid md:grid-cols-2 gap-20">
				<!-- Izquierda - Info -->
				<div class="reveal-left">
					<p class="text-blue-400 text-sm tracking-widest mb-4 font-light">CONTACTO</p>
					<h3 class="text-5xl md:text-6xl font-light text-white mb-12 leading-tight">
						Hablemos de tu<br/>
						<span class="italic font-serif">proyecto</span>
					</h3>
					
					<div class="space-y-8 mb-12">
						<div>
							<p class="text-gray-500 text-sm tracking-wider mb-2 font-light">EMAIL</p>
							<a href="mailto:minimalstudio@outlook.com" class="text-white text-xl hover:text-blue-400 transition-colors font-light">
								minimalstudio@outlook.com
							</a>
						</div>
						<div>
							<p class="text-gray-500 text-sm tracking-wider mb-2 font-light">TELÉFONO</p>
							<a href="tel:+543511234567" class="text-white text-xl hover:text-blue-400 transition-colors font-light">
								+54 351 1234-5678
							</a>
						</div>
						<div>
							<p class="text-gray-500 text-sm tracking-wider mb-2 font-light">UBICACIÓN</p>
							<p class="text-white text-xl font-light">Córdoba, Argentina</p>
						</div>
					</div>

					<!-- Redes sociales -->
					<div class="flex gap-6">
						<a href="#" target="_blank" rel="noopener noreferrer" aria-label="Síguenos en Instagram" class="text-gray-500 hover:text-white transition-colors">
							<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
						</a>
						<a href="#" target="_blank" rel="noopener noreferrer" aria-label="Síguenos en LinkedIn" class="text-gray-500 hover:text-white transition-colors">
							<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
						</a>
						<a href="#" target="_blank" rel="noopener noreferrer" aria-label="Conéctate en Facebook" class="text-gray-500 hover:text-white transition-colors">
							<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
						</a>
					</div>
				</div>

				<!-- Derecha - Formulario -->
				<div class="reveal-right">
					<form id="contactForm" action="/api/contact" method="post" class="space-y-6">
						<div>
							<input 
								type="text" 
								name="name" 
								placeholder="Nombre completo"
								required 
								aria-label="Nombre completo"
								class="w-full bg-transparent border-b border-zinc-700 text-white py-4 focus:outline-none focus:border-blue-500 transition-colors font-light placeholder-gray-600">
						</div>
						
						<div>
							<input 
								type="email" 
								name="email" 
								placeholder="Email"
								required 
								aria-label="Correo electrónico"
								class="w-full bg-transparent border-b border-zinc-700 text-white py-4 focus:outline-none focus:border-blue-500 transition-colors font-light placeholder-gray-600">
						</div>
						
						<div>
							<input 
								type="tel" 
								name="phone" 
								placeholder="Teléfono"
								aria-label="Número de teléfono"
								class="w-full bg-transparent border-b border-zinc-700 text-white py-4 focus:outline-none focus:border-blue-500 transition-colors font-light placeholder-gray-600">
						</div>
						
						<div>
							<textarea 
								name="message" 
								rows="5" 
								placeholder="Cuéntanos sobre tu proyecto"
								required 
								aria-label="Mensaje sobre tu proyecto"
								class="w-full bg-transparent border-b border-zinc-700 text-white py-4 focus:outline-none focus:border-blue-500 transition-colors resize-none font-light placeholder-gray-600"></textarea>
						</div>
						
						<button 
							type="submit" 
							id="submitBtn"
							class="w-full border border-white text-white py-4 hover:bg-white hover:text-black transition-all duration-300 text-sm tracking-widest font-light mt-8">
							ENVIAR MENSAJE
						</button>
					</form>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer ultra minimalista -->
	<footer role="contentinfo" class="bg-black py-28 px-5 border-t border-zinc-900">
		<div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
			<p class="text-gray-600 text-sm font-light">© 2026 Minimal Studio. Todos los derechos reservados.</p>
			<div class="flex gap-8 text-sm font-light">
				<a href="/privacidad" class="text-gray-600 hover:text-white transition-colors">Privacidad</a>
				<a href="/terminos" class="text-gray-600 hover:text-white transition-colors">Términos</a>
				<a href="/avisoLegal" class="text-gray-600 hover:text-white transition-colors">Legal</a>
			</div>
		</div>
	</footer>

	<!-- Botón flotante WhatsApp (derecha) -->
	<a 
		href="https://wa.me/3572548014?text=Hola,%20me%20interesa%20conocer%20más%20sobre%20sus%20servicios" 
		target="_blank"
		rel="noopener noreferrer"
		aria-label="Contactar por WhatsApp"
		class="fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:shadow-2xl transition-all duration-300 group hover:scale-110">
		<!-- Ícono de WhatsApp -->
		<svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
			<path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
		</svg>
		<!-- Pulso animado -->
		<span class="absolute inset-0 rounded-full bg-green-400 animate-ping opacity-20" aria-hidden="true"></span>
	</a>

	<!-- Botón flotante Scroll to Top (izquierda) -->
	<button 
		id="scroll-to-top"
		aria-label="Volver arriba"
		class="fixed bottom-6 left-6 z-50 bg-zinc-800 hover:bg-zinc-700 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:shadow-2xl transition-all duration-300 opacity-0 pointer-events-none hover:scale-110">
		<!-- Ícono de flecha arriba -->
		<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
			<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
		</svg>
	</button>
</Layout>

<style>
	/* Smooth scroll */
	html {
		scroll-behavior: smooth;
		background: #000;
	}

	/* Prevenir zoom en inputs en iOS */
	@media (max-width: 768px) {
		input, textarea, select {
			font-size: 16px !important;
		}
	}

	/* Animación fade in up */
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(40px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fadeInUp {
		animation: fadeInUp 1s ease-out forwards;
		opacity: 0;
	}

	/* Animaciones de reveal */
	@keyframes slideInFromLeft {
		from {
			opacity: 0;
			transform: translateX(-50px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	@keyframes slideInFromRight {
		from {
			opacity: 0;
			transform: translateX(50px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}

	@keyframes slideInFromBottom {
		from {
			opacity: 0;
			transform: translateY(50px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.reveal-left,
	.reveal-right,
	.reveal-up {
		opacity: 0;
	}

	.reveal-left.active {
		animation: slideInFromLeft 0.8s ease forwards;
	}

	.reveal-right.active {
		animation: slideInFromRight 0.8s ease forwards;
	}

	.reveal-up.active {
		animation: slideInFromBottom 0.8s ease forwards;
	}

	/* Barra de progreso en desktop */
	.nav-link {
		position: relative;
	}

	.nav-link::after {
		content: '';
		position: absolute;
		bottom: -8px;
		left: 0;
		width: 0%;
		height: 2px;
		background: linear-gradient(90deg, #3b82f6, #06b6d4);
		transition: width 0.3s ease;
	}

	.nav-link.active::after {
		width: 100%;
	}

	/* Highlight en mobile */
	.mobile-nav-link.active {
		color: #3b82f6;
		background: rgba(59, 130, 246, 0.1);
		padding: 12px 0;
	}

	.mobile-nav-link {
		transition: all 0.3s ease;
	}

	/* Efecto parallax suave en scroll */
	@media (prefers-reduced-motion: no-preference) {
		section {
			animation: fadeIn 0.8s ease-out;
		}
	}

	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	/* Custom scrollbar oscuro */
	::-webkit-scrollbar {
		width: 10px;
	}

	::-webkit-scrollbar-track {
		background: #000;
	}

	::-webkit-scrollbar-thumb {
		background: #27272a;
		border-radius: 5px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: #3f3f46;
	}

	/* Animación sutil del grid al hacer scroll */
	@keyframes gridPulse {
		0%, 100% { opacity: 0.2; }
		50% { opacity: 0.3; }
	}
	
	#servicios > div:first-child > div:first-child {
		animation: gridPulse 4s ease-in-out infinite;
	}

	/* Mejorar touch targets en mobile */
	@media (max-width: 768px) {
		button, a {
			min-height: 44px;
			min-width: 44px;
		}
	}

	/* Mejorar scrolling en iOS */
	body {
		-webkit-overflow-scrolling: touch;
	}

	/* Parallax container */
	.parallax-container {
		overflow: hidden;
		position: relative;
	}

	.parallax {
		will-change: transform;
		transform: translateY(0) scale(1.1);
		transition: transform 0.1s ease-out;
	}

	/* Transición suave en las imágenes del modal */
	#mainImage {
		transition: opacity 0.3s ease-in-out;
	}
</style>

<script is:inline>
	// ============================================
	// CONFIGURACIÓN GLOBAL
	// ============================================
	const CONFIG = {
		HEADER_OFFSET: 80,
		SCROLL_THRESHOLD: 300,
		ANIMATION_DURATION: 2000,
		OBSERVER_THRESHOLD: 0.3,
		MOBILE_BREAKPOINT: 768
	};

	// ============================================
	// UTILIDADES
	// ============================================
	const utils = {
		isMobile: () => window.innerWidth < CONFIG.MOBILE_BREAKPOINT,
		
		debounce: (func, wait) => {
			let timeout;
			return (...args) => {
				clearTimeout(timeout);
				timeout = setTimeout(() => func.apply(this, args), wait);
			};
		},
		
		throttle: (func, limit) => {
			let inThrottle;
			return (...args) => {
				if (!inThrottle) {
					func.apply(this, args);
					inThrottle = true;
					setTimeout(() => inThrottle = false, limit);
				}
			};
		}
	};

	// ============================================
	// MODAL MANAGER
	// ============================================
	const proyectos = {
		proyecto1: {
			titulo: "Casa Valle Minimalista",
			categoria: "RESIDENCIAL · 2024",
			descripcion: "Residencia contemporánea integrada al paisaje natural. 450m² de arquitectura pura y funcional.",
			descripcionLarga: "Esta residencia contemporánea representa la perfecta fusión entre arquitectura moderna y naturaleza. Con 450m² distribuidos en dos niveles, el proyecto busca maximizar las vistas al valle mientras mantiene la privacidad de sus habitantes. Los materiales naturales como madera, piedra y concreto expuesto se combinan con amplios ventanales de piso a techo que difuminan los límites entre interior y exterior.",
			caracteristicas: [
				"Diseño bioclimático pasivo",
				"Sistema de recolección de agua pluvial",
				"Paneles solares integrados",
				"Jardines verticales interiores",
				"Domótica integral"
			],
			imagenes: [
				"/proyectos/proyectoUno.webp",
				"/proyectos/proyectoUno.webp",
				"/proyectos/proyectoUno.webp",
				"/proyectos/proyectoUno.webp"
			]
		},
		proyecto2: {
			titulo: "Torre Corporativa",
			categoria: "COMERCIAL · 2024",
			descripcion: "Espacio de trabajo que redefine la productividad moderna.",
			descripcionLarga: "Edificio de oficinas de última generación que prioriza el bienestar de los trabajadores. Con 15 pisos y más de 8,000m² de espacio útil, incorpora áreas de colaboración, zonas de descanso y tecnología inteligente para crear el ambiente de trabajo ideal.",
			caracteristicas: [
				"Certificación LEED Platinum",
				"Terrazas verdes en cada piso",
				"Sistema de ventilación natural",
				"Espacios flexibles y modulares",
				"Gimnasio y cafetería gourmet"
			],
			imagenes: [
				"/proyectos/proyectoDos.webp",
				"/proyectos/proyectoDos.webp",
				"/proyectos/proyectoDos.webp",
				"/proyectos/proyectoDos.webp"
			]
		},
		proyecto3: {
			titulo: "Restaurante Fusion",
			categoria: "GASTRONÓMICO · 2023",
			descripcion: "Diseño que celebra la experiencia culinaria contemporánea.",
			descripcionLarga: "Espacio gastronómico que une tradición y modernidad en un ambiente íntimo de 280m². El diseño busca crear diferentes experiencias en un solo lugar, desde la cocina abierta hasta el bar de cócteles y las áreas de comedor privadas.",
			caracteristicas: [
				"Cocina abierta con espectáculo",
				"Bar de mixología artesanal",
				"Iluminación dinámica programable",
				"Acústica optimizada",
				"Terraza con jardín urbano"
			],
			imagenes: [
				"/proyectos/proyectoTres.webp",
				"/proyectos/proyectoTres.webp",
				"/proyectos/proyectoTres.webp",
				"/proyectos/proyectoTres.webp"
			]
		}
	};

	const ModalManager = {
		currentProject: null,
		currentImageIndex: 0,
		currentImages: [],
		
		open(proyectoId) {
			this.currentProject = proyectos[proyectoId];
			this.currentImages = this.currentProject.imagenes;
			this.currentImageIndex = 0;
			this.render();
			this.show();
			
			// Track analytics
			if (typeof gtag !== 'undefined') {
				gtag('event', 'project_view', {
					project_name: proyectoId
				});
			}
		},
		
		close() {
			this.hide();
			this.reset();
		},
		
		render() {
			const proyecto = this.currentProject;
			const modalContent = document.getElementById('modalContent');
			
			const caracteristicasHTML = proyecto.caracteristicas.map(item => `
				<li class="flex items-start">
					<span class="text-blue-400 mr-3">•</span>
					<span class="text-gray-300">${item}</span>
				</li>
			`).join('');

			modalContent.innerHTML = `
				<div class="mb-8">
					<p class="text-blue-400 text-sm tracking-widest mb-3 font-light">${proyecto.categoria}</p>
					<h2 id="modalTitle" class="text-4xl md:text-6xl font-light text-white mb-6">${proyecto.titulo}</h2>
					<p class="text-gray-400 text-lg font-light leading-relaxed">${proyecto.descripcionLarga}</p>
				</div>

				<div class="grid md:grid-cols-3 gap-8">
					<div class="md:col-span-2">
						<h3 class="text-2xl font-light text-white mb-6">Galería del Proyecto</h3>
						
						<div class="relative group">
							<div class="relative h-[40vh] md:h-[60vh] overflow-hidden rounded-sm bg-black">
								<img 
									id="mainImage"
									src="${this.currentImages[0]}" 
									alt="${proyecto.titulo}"
									class="w-full h-full object-cover"
								/>
							</div>

							<button onclick="ModalManager.previousImage()" aria-label="Imagen anterior" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-3 rounded-sm opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-all duration-300">
								<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
								</svg>
							</button>

							<button onclick="ModalManager.nextImage()" aria-label="Imagen siguiente" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/70 hover:bg-black text-white p-3 rounded-sm opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-all duration-300">
								<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
								</svg>
							</button>

							<div class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 px-4 py-2 rounded-sm">
								<span id="imageCounter" class="text-white text-sm font-light">
									1 / ${this.currentImages.length}
								</span>
							</div>
						</div>

						<div class="flex gap-2 mt-4 overflow-x-auto pb-2" id="thumbnailContainer">
							${this.currentImages.map((img, index) => `
								<img 
									src="${img}" 
									alt="Thumbnail ${index + 1}"
									onclick="ModalManager.goToImage(${index})"
									class="thumbnail w-20 h-20 object-cover rounded-sm cursor-pointer border-2 ${index === 0 ? 'border-blue-400' : 'border-transparent'} hover:border-blue-400 transition-all"
									data-index="${index}"
								/>
							`).join('')}
						</div>
					</div>
					
					<div>
						<h3 class="text-2xl font-light text-white mb-6">Características</h3>
						<ul class="space-y-4 font-light">
							${caracteristicasHTML}
						</ul>
					</div>
				</div>
			`;
		},
		
		show() {
			const modal = document.getElementById('projectModal');
			modal.classList.remove('hidden');
			modal.classList.add('flex');
			document.body.style.overflow = 'hidden';
			
			// Trap focus dentro del modal
			const focusableElements = modal.querySelectorAll(
				'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
			);
			const firstElement = focusableElements[0];
			const lastElement = focusableElements[focusableElements.length - 1];
			
			firstElement.focus();
		},
		
		hide() {
			const modal = document.getElementById('projectModal');
			modal.classList.add('hidden');
			modal.classList.remove('flex');
			document.body.style.overflow = 'auto';
		},
		
		reset() {
			this.currentProject = null;
			this.currentImageIndex = 0;
			this.currentImages = [];
		},
		
		updateImage() {
			const mainImage = document.getElementById('mainImage');
			const imageCounter = document.getElementById('imageCounter');
			const thumbnails = document.querySelectorAll('.thumbnail');

			if (mainImage && imageCounter) {
				mainImage.style.opacity = '0';
				
				setTimeout(() => {
					mainImage.src = this.currentImages[this.currentImageIndex];
					imageCounter.textContent = `${this.currentImageIndex + 1} / ${this.currentImages.length}`;
					
					thumbnails.forEach((thumb, index) => {
						if (index === this.currentImageIndex) {
							thumb.classList.remove('border-transparent');
							thumb.classList.add('border-blue-400');
						} else {
							thumb.classList.remove('border-blue-400');
							thumb.classList.add('border-transparent');
						}
					});
					
					mainImage.style.opacity = '1';
				}, 200);
			}
		},
		
		nextImage() {
			this.currentImageIndex = (this.currentImageIndex + 1) % this.currentImages.length;
			this.updateImage();
		},
		
		previousImage() {
			this.currentImageIndex = (this.currentImageIndex - 1 + this.currentImages.length) % this.currentImages.length;
			this.updateImage();
		},
		
		goToImage(index) {
			this.currentImageIndex = index;
			this.updateImage();
		}
	};

	// ============================================
	// INICIALIZACIÓN
	// ============================================
	document.addEventListener('DOMContentLoaded', function() {
		
		// ============================================
		// MOBILE MENU
		// ============================================
		const menuToggle = document.getElementById('menu-toggle');
		const mobileMenu = document.getElementById('mobile-menu');

		menuToggle.addEventListener('click', () => {
			const isHidden = mobileMenu.classList.contains('hidden');
			mobileMenu.classList.toggle('hidden');
			menuToggle.setAttribute('aria-expanded', isHidden);
			mobileMenu.setAttribute('aria-hidden', !isHidden);
		});

		// ============================================
		// ACTIVE SECTION TRACKING
		// ============================================
		const sections = document.querySelectorAll('section[id]');
		const navLinks = document.querySelectorAll('.nav-link');
		const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

		function setActiveLink() {
			let currentSection = '';
			
			sections.forEach(section => {
				const sectionTop = section.offsetTop;
				const sectionHeight = section.clientHeight;
				
				if (window.pageYOffset >= (sectionTop - 200)) {
					currentSection = section.getAttribute('id');
				}
			});

			navLinks.forEach(link => {
				link.classList.remove('active');
				if (link.getAttribute('href') === `#${currentSection}`) {
					link.classList.add('active');
				}
			});

			mobileNavLinks.forEach(link => {
				link.classList.remove('active');
				if (link.getAttribute('href') === `#${currentSection}`) {
					link.classList.add('active');
				}
			});
		}

		window.addEventListener('scroll', utils.throttle(setActiveLink, 100));
		setActiveLink();

		// Cerrar mobile menu al hacer click en un link
		mobileNavLinks.forEach(link => {
			link.addEventListener('click', () => {
				mobileMenu.classList.add('hidden');
				menuToggle.setAttribute('aria-expanded', 'false');
				mobileMenu.setAttribute('aria-hidden', 'true');
			});
		});

		// ============================================
		// SMOOTH SCROLL CON OFFSET
		// ============================================
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const targetId = this.getAttribute('href');
				if (targetId === '#') return;
				
				const target = document.querySelector(targetId);
				if (!target) return;
				
				const headerOffset = CONFIG.HEADER_OFFSET;
				const elementPosition = target.offsetTop;
				const offsetPosition = elementPosition - headerOffset;

				window.scrollTo({
					top: offsetPosition,
					behavior: 'smooth'
				});
			});
		});

		// ============================================
		// COUNTERS ANIMATION
		// ============================================
		const counters = document.querySelectorAll('.counter');
		let animated = false;

		function animateCounter(counter) {
			const target = parseInt(counter.getAttribute('data-target'));
			const duration = CONFIG.ANIMATION_DURATION;
			const frameRate = 1000 / 60;
			const totalFrames = Math.round(duration / frameRate);
			const increment = target / totalFrames;
			let current = 0;
			let frame = 0;

			const timer = setInterval(function() {
				frame++;
				current += increment;
				
				if (frame >= totalFrames) {
					counter.textContent = target;
					clearInterval(timer);
				} else {
					counter.textContent = Math.floor(current);
				}
			}, frameRate);
		}

		const observerOptions = {
			threshold: CONFIG.OBSERVER_THRESHOLD,
			rootMargin: '0px'
		};

		const statsObserver = new IntersectionObserver(function(entries) {
			entries.forEach(function(entry) {
				if (entry.isIntersecting && !animated) {
					animated = true;
					counters.forEach(function(counter) {
						animateCounter(counter);
					});
				}
			});
		}, observerOptions);

		const statsSection = document.getElementById('stats-section');
		if (statsSection) {
			statsObserver.observe(statsSection);
		}

		// ============================================
		// REVEAL ON SCROLL ANIMATIONS
		// ============================================
		const revealElements = document.querySelectorAll('.reveal-left, .reveal-right, .reveal-up');
		
		const revealObserver = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					entry.target.classList.add('active');
				}
			});
		}, {
			threshold: 0.1,
			rootMargin: '0px 0px -50px 0px'
		});

		revealElements.forEach(el => revealObserver.observe(el));

		// ============================================
		// PARALLAX EFFECT
		// ============================================
		const parallaxImages = document.querySelectorAll('.parallax');
		
		if (parallaxImages.length > 0 && window.matchMedia('(prefers-reduced-motion: no-preference)').matches) {
			window.addEventListener('scroll', utils.throttle(() => {
				parallaxImages.forEach(img => {
					const container = img.closest('.parallax-container');
					if (!container) return;
					
					const rect = container.getBoundingClientRect();
					const windowHeight = window.innerHeight;
					
					// Solo aplicar parallax cuando el contenedor está visible
					if (rect.top < windowHeight && rect.bottom > 0) {
						// Calcular el porcentaje de scroll relativo al contenedor
						const scrollPercent = (windowHeight - rect.top) / (windowHeight + rect.height);
						const speed = 0.15; // Velocidad más suave
						const maxMove = 50; // Máximo movimiento en pixels
						const yPos = (scrollPercent - 0.5) * maxMove * speed;
						
						img.style.transform = `translateY(${yPos}px) scale(1.1)`;
					}
				});
			}, 10));
		}

		// ============================================
		// SCROLL TO TOP BUTTON
		// ============================================
		const scrollToTopBtn = document.getElementById('scroll-to-top');
		
		window.addEventListener('scroll', utils.throttle(function() {
			if (window.pageYOffset > CONFIG.SCROLL_THRESHOLD) {
				scrollToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
				scrollToTopBtn.classList.add('opacity-100', 'pointer-events-auto');
			} else {
				scrollToTopBtn.classList.add('opacity-0', 'pointer-events-none');
				scrollToTopBtn.classList.remove('opacity-100', 'pointer-events-auto');
			}
		}, 100));
		
		scrollToTopBtn.addEventListener('click', function() {
			window.scrollTo({
				top: 0,
				behavior: 'smooth'
			});
		});

		// ============================================
		// FORM HANDLING
		// ============================================
		const contactForm = document.getElementById('contactForm');
		const submitBtn = document.getElementById('submitBtn');

		if (contactForm) {
			contactForm.addEventListener('submit', async (e) => {
				e.preventDefault();
				
				// Loading state
				const originalText = submitBtn.textContent;
				submitBtn.textContent = 'ENVIANDO...';
				submitBtn.disabled = true;
				submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
				
				try {
					// Simulación de envío - reemplazar con tu endpoint real
					await new Promise(resolve => setTimeout(resolve, 1500));
					
					// Success state
					submitBtn.textContent = '✓ MENSAJE ENVIADO';
					submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
					submitBtn.classList.add('bg-green-600', 'border-green-600');
					contactForm.reset();
					
					// Track analytics
					if (typeof gtag !== 'undefined') {
						gtag('event', 'form_submit', {
							form_name: 'contact_form'
						});
					}
					
					setTimeout(() => {
						submitBtn.textContent = originalText;
						submitBtn.classList.remove('bg-green-600', 'border-green-600');
						submitBtn.disabled = false;
					}, 3000);
					
				} catch (error) {
					console.error('Error al enviar formulario:', error);
					submitBtn.textContent = '✗ ERROR - REINTENTAR';
					submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
					submitBtn.classList.add('bg-red-600', 'border-red-600');
					submitBtn.disabled = false;
					
					setTimeout(() => {
						submitBtn.textContent = originalText;
						submitBtn.classList.remove('bg-red-600', 'border-red-600');
					}, 3000);
				}
			});
		}

		// ============================================
		// IMAGE LOADING OPTIMIZATION
		// ============================================
		const lazyImages = document.querySelectorAll('img[loading="lazy"]');
		
		if ('IntersectionObserver' in window) {
			const imageObserver = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						const img = entry.target;
						
						img.addEventListener('load', () => {
							img.classList.remove('animate-pulse', 'bg-zinc-800');
						});
						
						img.addEventListener('error', () => {
							img.classList.remove('animate-pulse', 'bg-zinc-800');
							console.error('Error al cargar imagen:', img.src);
						});
						
						imageObserver.unobserve(img);
					}
				});
			});

			lazyImages.forEach(img => imageObserver.observe(img));
		}

		// ============================================
		// MODAL KEYBOARD NAVIGATION
		// ============================================
		document.addEventListener('keydown', (e) => {
			const modal = document.getElementById('projectModal');
			
			if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
				ModalManager.close();
			}
			
			if (!modal.classList.contains('hidden')) {
				if (e.key === 'ArrowRight') ModalManager.nextImage();
				if (e.key === 'ArrowLeft') ModalManager.previousImage();
			}
		});

		// Cerrar modal al hacer click fuera
		document.getElementById('projectModal')?.addEventListener('click', (e) => {
			if (e.target.id === 'projectModal') {
				ModalManager.close();
			}
		});

	});
</script>